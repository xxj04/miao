<!DOCTYPE html>
<html lang="en" style="width: 100%;height: 100%;">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body style="width: 100%;height: 100%;">
  <input type="button" onclick="run()" style="width: 100px;height: 100px; font-size: 40px;" value="run"></input>
  <script>
    function run() {
      downloadIm('https://xieranmaya.github.io/images/cats/cats.json', (e) => {
        var list = JSON.parse(e.responseText)
        for (var x of list) {

          downloadIm(x.fullUrl, (e) => {
            var img = new Image
            img.src = e.responseURL
          })
        }
      })



    }
    function downloadIm(url, callback) {
      var rep = new XMLHttpRequest();
      rep.open('GET', url, true);
      rep.addEventListener('load', function () {
        callback(rep)
      })
      rep.send();
    }

    function downloadImgSync(url, callback) {
      var xhr = new XMLHttpRequest()
      xhr.open('get', url, false)
      xhr.send()
      return xhr.responseText
    }
  </script>

</body>

</html>